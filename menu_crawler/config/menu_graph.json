{
  "version": "4.0",
  "generated_at": "2025-10-22T00:00:00Z",
  "source": "actual_callbacks_analysis.json (extracted from handlers.py)",
  "total_nodes": 92,
  "total_edges": 145,
  "nodes": {
    "menu_main": {
      "type": "menu",
      "depth": 0,
      "description": "Главное меню",
      "safe": true
    },
    "menu_dialog": {
      "type": "menu",
      "depth": 1,
      "description": "Меню режимов диалога",
      "safe": true
    },
    "menu_help": {
      "type": "menu",
      "depth": 1,
      "description": "Меню помощи",
      "safe": true
    },
    "menu_system": {
      "type": "menu",
      "depth": 1,
      "description": "Системное меню",
      "safe": true
    },
    "menu_chats": {
      "type": "menu",
      "depth": 1,
      "description": "Меню управления чатами",
      "safe": true
    },
    "menu_storage": {
      "type": "menu",
      "depth": 1,
      "description": "Меню хранилища файлов",
      "safe": true
    },
    "menu_access": {
      "type": "menu",
      "depth": 1,
      "description": "Меню управления доступом",
      "safe": true
    },
    "new_chat": {
      "type": "action",
      "depth": 2,
      "description": "Создание нового чата",
      "safe": false,
      "forbidden": true
    },
    "show_stats": {
      "type": "view",
      "depth": 2,
      "description": "Просмотр статистики",
      "safe": true
    },
    "show_my_reports": {
      "type": "view",
      "depth": 2,
      "description": "Просмотр моих отчетов",
      "safe": true
    },
    "chat_actions": {
      "type": "action",
      "depth": 2,
      "description": "Действия с конкретным чатом",
      "dynamic": true,
      "pattern": "chat_actions||{conversation_id}"
    },
    "switch_chat": {
      "type": "action",
      "depth": 3,
      "description": "Запрос на переключение чата",
      "dynamic": true,
      "pattern": "switch_chat||{conversation_id}"
    },
    "confirm_switch": {
      "type": "confirm",
      "depth": 4,
      "description": "Подтверждение переключения чата",
      "dynamic": true,
      "pattern": "confirm_switch||{conversation_id}"
    },
    "rename_chat": {
      "type": "action",
      "depth": 3,
      "description": "Переименование чата",
      "dynamic": true,
      "pattern": "rename_chat||{conversation_id}",
      "forbidden": true
    },
    "delete_chat": {
      "type": "action",
      "depth": 3,
      "description": "Удаление чата",
      "dynamic": true,
      "pattern": "delete_chat||{conversation_id}",
      "forbidden": true
    },
    "confirm_delete": {
      "type": "confirm",
      "depth": 4,
      "description": "Подтверждение удаления чата",
      "dynamic": true,
      "pattern": "confirm_delete||{conversation_id}",
      "forbidden": true
    },
    "mode_fast": {
      "type": "action",
      "depth": 2,
      "description": "Быстрый режим диалога"
    },
    "mode_deep": {
      "type": "action",
      "depth": 2,
      "description": "Глубокий режим диалога"
    },
    "mode_interview": {
      "type": "action",
      "depth": 2,
      "description": "Режим интервью"
    },
    "mode_design": {
      "type": "action",
      "depth": 2,
      "description": "Режим дизайна"
    },
    "confirm_data": {
      "type": "confirm",
      "depth": 2,
      "description": "Подтверждение данных"
    },
    "edit_data": {
      "type": "action",
      "depth": 2,
      "description": "Редактирование данных",
      "forbidden": true
    },
    "back_to_confirm": {
      "type": "action",
      "depth": 3,
      "description": "Назад к подтверждению"
    },
    "edit_audio_number": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование номера аудио",
      "dynamic": true,
      "pattern": "edit_audio_number",
      "forbidden": true
    },
    "edit_date": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование даты",
      "dynamic": true,
      "pattern": "edit_date",
      "forbidden": true
    },
    "edit_employee": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование сотрудника",
      "dynamic": true,
      "pattern": "edit_employee",
      "forbidden": true
    },
    "edit_place_name": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование названия места",
      "dynamic": true,
      "pattern": "edit_place_name",
      "forbidden": true
    },
    "edit_building_type": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование типа здания",
      "dynamic": true,
      "pattern": "edit_building_type",
      "forbidden": true
    },
    "edit_zone_name": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование названия зоны",
      "dynamic": true,
      "pattern": "edit_zone_name",
      "forbidden": true
    },
    "edit_city": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование города",
      "dynamic": true,
      "pattern": "edit_city",
      "forbidden": true
    },
    "edit_client": {
      "type": "action",
      "depth": 3,
      "description": "Редактирование клиента",
      "dynamic": true,
      "pattern": "edit_client",
      "forbidden": true
    },
    "choose_building": {
      "type": "action",
      "depth": 3,
      "description": "Выбор типа здания",
      "dynamic": true,
      "pattern": "choose_building||{building_type}"
    },
    "view_category": {
      "type": "view",
      "depth": 2,
      "description": "Просмотр файлов категории",
      "dynamic": true,
      "pattern": "view||{category}"
    },
    "select_file": {
      "type": "action",
      "depth": 3,
      "description": "Выбор конкретного файла",
      "dynamic": true,
      "pattern": "select||{category}||{filename}"
    },
    "delete_file": {
      "type": "action",
      "depth": 3,
      "description": "Удаление файла",
      "dynamic": true,
      "pattern": "delete||{category}||{filename}",
      "forbidden": true
    },
    "upload_file": {
      "type": "action",
      "depth": 3,
      "description": "Загрузка файла",
      "dynamic": true,
      "pattern": "upload||{category}",
      "forbidden": true
    },
    "show_all_reports": {
      "type": "view",
      "depth": 2,
      "description": "Просмотр всех отчетов (legacy)"
    },
    "send_history_manual": {
      "type": "action",
      "depth": 2,
      "description": "Ручная отправка истории"
    },
    "report_view": {
      "type": "view",
      "depth": 3,
      "description": "Просмотр отчета"
    },
    "report_rename": {
      "type": "action",
      "depth": 3,
      "description": "Переименование отчета",
      "forbidden": true
    },
    "report_delete": {
      "type": "action",
      "depth": 3,
      "description": "Удаление отчета",
      "forbidden": true
    },
    "report_delete_confirm": {
      "type": "confirm",
      "depth": 4,
      "description": "Подтверждение удаления отчета",
      "dynamic": true,
      "pattern": "report_delete_confirm||{index}",
      "forbidden": true
    },
    "send_report": {
      "type": "action",
      "depth": 3,
      "description": "Отправка отчета",
      "dynamic": true,
      "pattern": "send_report||{file_path}"
    },
    "report_int_methodology": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: методология интервью"
    },
    "report_int_links": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: ссылки интервью"
    },
    "report_design_audit_methodology": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: методология аудита дизайна"
    },
    "report_int_general": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: общий анализ интервью"
    },
    "report_int_specific": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: специфический анализ интервью"
    },
    "report_design_compliance": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: соответствие дизайна"
    },
    "report_design_structured": {
      "type": "action",
      "depth": 2,
      "description": "Отчет: структурированный дизайн"
    },
    "access_users_menu": {
      "type": "menu",
      "depth": 2,
      "description": "Меню пользователей"
    },
    "access_list_users": {
      "type": "view",
      "depth": 3,
      "description": "Список пользователей",
      "safe": true
    },
    "access_list_users_page": {
      "type": "view",
      "depth": 3,
      "description": "Пагинация списка пользователей",
      "dynamic": true,
      "pattern": "access_list_users||page||{page}",
      "safe": true
    },
    "access_search_user": {
      "type": "action",
      "depth": 3,
      "description": "Поиск пользователя"
    },
    "access_filter_roles": {
      "type": "action",
      "depth": 3,
      "description": "Фильтр по ролям"
    },
    "access_filter_reset": {
      "type": "action",
      "depth": 3,
      "description": "Сброс фильтров"
    },
    "access_filter": {
      "type": "action",
      "depth": 4,
      "description": "Фильтр по конкретной роли",
      "dynamic": true,
      "pattern": "access_filter||{role}"
    },
    "access_user_details": {
      "type": "view",
      "depth": 4,
      "description": "Детали пользователя",
      "dynamic": true,
      "pattern": "access_user_details||{user_id}"
    },
    "access_edit_user": {
      "type": "action",
      "depth": 5,
      "description": "Редактирование пользователя",
      "dynamic": true,
      "pattern": "access_edit_user||{user_id}",
      "forbidden": true
    },
    "access_change_role": {
      "type": "action",
      "depth": 5,
      "description": "Смена роли",
      "dynamic": true,
      "pattern": "access_change_role||{user_id}",
      "forbidden": true
    },
    "access_set_role": {
      "type": "action",
      "depth": 6,
      "description": "Установка конкретной роли",
      "dynamic": true,
      "pattern": "access_set_role||{user_id}||{role}",
      "forbidden": true
    },
    "access_reset_password": {
      "type": "action",
      "depth": 5,
      "description": "Сброс пароля",
      "dynamic": true,
      "pattern": "access_reset_password||{user_id}",
      "forbidden": true
    },
    "access_confirm_reset": {
      "type": "confirm",
      "depth": 6,
      "description": "Подтверждение сброса пароля",
      "dynamic": true,
      "pattern": "access_confirm_reset||{user_id}",
      "forbidden": true
    },
    "access_toggle_block": {
      "type": "action",
      "depth": 5,
      "description": "Блокировка/разблокировка",
      "dynamic": true,
      "pattern": "access_toggle_block||{user_id}",
      "forbidden": true
    },
    "access_confirm_block": {
      "type": "confirm",
      "depth": 6,
      "description": "Подтверждение блокировки",
      "dynamic": true,
      "pattern": "access_confirm_block||{user_id}",
      "forbidden": true
    },
    "access_delete_user": {
      "type": "action",
      "depth": 5,
      "description": "Удаление пользователя",
      "dynamic": true,
      "pattern": "access_delete_user||{user_id}",
      "forbidden": true
    },
    "access_confirm_delete": {
      "type": "confirm",
      "depth": 6,
      "description": "Подтверждение удаления пользователя",
      "dynamic": true,
      "pattern": "access_confirm_delete||{user_id}",
      "forbidden": true
    },
    "access_invitations_menu": {
      "type": "menu",
      "depth": 2,
      "description": "Меню приглашений"
    },
    "access_list_invites": {
      "type": "view",
      "depth": 3,
      "description": "Список приглашений",
      "safe": true
    },
    "access_list_invites_page": {
      "type": "view",
      "depth": 3,
      "description": "Пагинация списка приглашений",
      "dynamic": true,
      "pattern": "access_list_invites||page||{page}",
      "safe": true
    },
    "access_create_invite": {
      "type": "action",
      "depth": 4,
      "description": "Создание приглашения",
      "dynamic": true,
      "pattern": "access_create_invite||{role}",
      "forbidden": true
    },
    "access_confirm_invite": {
      "type": "confirm",
      "depth": 5,
      "description": "Подтверждение создания приглашения",
      "dynamic": true,
      "pattern": "access_confirm_invite||{role}",
      "forbidden": true
    },
    "access_invite_details": {
      "type": "view",
      "depth": 4,
      "description": "Детали приглашения",
      "dynamic": true,
      "pattern": "access_invite_details||{invite_code}"
    },
    "access_revoke_invite": {
      "type": "action",
      "depth": 5,
      "description": "Отзыв приглашения",
      "dynamic": true,
      "pattern": "access_revoke_invite||{invite_code}",
      "forbidden": true
    },
    "access_confirm_revoke": {
      "type": "confirm",
      "depth": 6,
      "description": "Подтверждение отзыва приглашения",
      "dynamic": true,
      "pattern": "access_confirm_revoke||{invite_code}",
      "forbidden": true
    },
    "access_security_menu": {
      "type": "menu",
      "depth": 2,
      "description": "Меню безопасности"
    },
    "access_audit_log": {
      "type": "view",
      "depth": 3,
      "description": "Журнал аудита",
      "safe": true
    },
    "access_audit_log_page": {
      "type": "view",
      "depth": 3,
      "description": "Пагинация журнала аудита",
      "dynamic": true,
      "pattern": "access_audit_log||page||{page}",
      "safe": true
    }
  },
  "edges": [
    {
      "from": "menu_main",
      "to": "menu_dialog",
      "callback_data": "menu_dialog",
      "button_text": "💬 Режимы диалога"
    },
    {
      "from": "menu_main",
      "to": "menu_help",
      "callback_data": "menu_help",
      "button_text": "❓ Помощь"
    },
    {
      "from": "menu_main",
      "to": "menu_system",
      "callback_data": "menu_system",
      "button_text": "⚙️ Система"
    },
    {
      "from": "menu_main",
      "to": "menu_chats",
      "callback_data": "menu_chats",
      "button_text": "📱 Чаты"
    },
    {
      "from": "menu_main",
      "to": "menu_storage",
      "callback_data": "menu_storage",
      "button_text": "📁 Хранилище"
    },
    {
      "from": "menu_main",
      "to": "menu_access",
      "callback_data": "menu_access",
      "button_text": "🔐 Управление доступом"
    },
    {
      "from": "menu_dialog",
      "to": "mode_fast",
      "callback_data": "mode_fast",
      "button_text": "⚡ Быстрый режим"
    },
    {
      "from": "menu_dialog",
      "to": "mode_deep",
      "callback_data": "mode_deep",
      "button_text": "🧠 Глубокий режим"
    },
    {
      "from": "menu_dialog",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "menu_help",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "menu_system",
      "to": "mode_interview",
      "callback_data": "mode_interview",
      "button_text": "🎤 Режим интервью"
    },
    {
      "from": "menu_system",
      "to": "mode_design",
      "callback_data": "mode_design",
      "button_text": "🎨 Режим дизайна"
    },
    {
      "from": "menu_system",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "menu_chats",
      "to": "new_chat",
      "callback_data": "new_chat",
      "button_text": "➕ Новый чат"
    },
    {
      "from": "menu_chats",
      "to": "show_stats",
      "callback_data": "show_stats",
      "button_text": "📊 Статистика"
    },
    {
      "from": "menu_chats",
      "to": "show_my_reports",
      "callback_data": "show_my_reports",
      "button_text": "📄 Мои отчеты"
    },
    {
      "from": "menu_chats",
      "to": "chat_actions",
      "callback_data": "chat_actions||{conversation_id}",
      "button_text": "[Динамический чат]",
      "dynamic": true
    },
    {
      "from": "menu_chats",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "chat_actions",
      "to": "switch_chat",
      "callback_data": "switch_chat||{conversation_id}",
      "button_text": "🔄 Переключиться",
      "dynamic": true
    },
    {
      "from": "chat_actions",
      "to": "rename_chat",
      "callback_data": "rename_chat||{conversation_id}",
      "button_text": "✏️ Переименовать",
      "dynamic": true
    },
    {
      "from": "chat_actions",
      "to": "delete_chat",
      "callback_data": "delete_chat||{conversation_id}",
      "button_text": "🗑️ Удалить",
      "dynamic": true
    },
    {
      "from": "chat_actions",
      "to": "menu_chats",
      "callback_data": "menu_chats",
      "button_text": "◀️ Назад"
    },
    {
      "from": "switch_chat",
      "to": "confirm_switch",
      "callback_data": "confirm_switch||{conversation_id}",
      "button_text": "✅ Подтвердить",
      "dynamic": true
    },
    {
      "from": "switch_chat",
      "to": "chat_actions",
      "callback_data": "chat_actions||{conversation_id}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "delete_chat",
      "to": "confirm_delete",
      "callback_data": "confirm_delete||{conversation_id}",
      "button_text": "✅ Подтвердить удаление",
      "dynamic": true
    },
    {
      "from": "delete_chat",
      "to": "chat_actions",
      "callback_data": "chat_actions||{conversation_id}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "mode_interview",
      "to": "confirm_data",
      "callback_data": "confirm_data",
      "button_text": "✅ Подтвердить данные"
    },
    {
      "from": "confirm_data",
      "to": "edit_data",
      "callback_data": "edit_data",
      "button_text": "✏️ Редактировать"
    },
    {
      "from": "edit_data",
      "to": "edit_audio_number",
      "callback_data": "edit_audio_number",
      "button_text": "🔢 Номер аудио"
    },
    {
      "from": "edit_data",
      "to": "edit_date",
      "callback_data": "edit_date",
      "button_text": "📅 Дата"
    },
    {
      "from": "edit_data",
      "to": "edit_employee",
      "callback_data": "edit_employee",
      "button_text": "👤 Сотрудник"
    },
    {
      "from": "edit_data",
      "to": "edit_place_name",
      "callback_data": "edit_place_name",
      "button_text": "🏢 Название места"
    },
    {
      "from": "edit_data",
      "to": "edit_building_type",
      "callback_data": "edit_building_type",
      "button_text": "🏗️ Тип здания"
    },
    {
      "from": "edit_data",
      "to": "edit_zone_name",
      "callback_data": "edit_zone_name",
      "button_text": "📍 Название зоны"
    },
    {
      "from": "edit_data",
      "to": "edit_city",
      "callback_data": "edit_city",
      "button_text": "🌆 Город"
    },
    {
      "from": "edit_data",
      "to": "edit_client",
      "callback_data": "edit_client",
      "button_text": "💼 Клиент"
    },
    {
      "from": "edit_data",
      "to": "back_to_confirm",
      "callback_data": "back_to_confirm",
      "button_text": "◀️ Назад"
    },
    {
      "from": "edit_building_type",
      "to": "choose_building",
      "callback_data": "choose_building||hotel",
      "button_text": "🏨 Отель",
      "dynamic": true
    },
    {
      "from": "edit_building_type",
      "to": "choose_building",
      "callback_data": "choose_building||restaurant",
      "button_text": "🍽️ Ресторан",
      "dynamic": true
    },
    {
      "from": "edit_building_type",
      "to": "choose_building",
      "callback_data": "choose_building||spa",
      "button_text": "💆 SPA",
      "dynamic": true
    },
    {
      "from": "menu_storage",
      "to": "view_category",
      "callback_data": "view||interview",
      "button_text": "🎤 Интервью",
      "dynamic": true
    },
    {
      "from": "menu_storage",
      "to": "view_category",
      "callback_data": "view||design",
      "button_text": "🎨 Дизайн",
      "dynamic": true
    },
    {
      "from": "menu_storage",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "view_category",
      "to": "select_file",
      "callback_data": "select||{category}||{filename}",
      "button_text": "[Файл]",
      "dynamic": true
    },
    {
      "from": "view_category",
      "to": "upload_file",
      "callback_data": "upload||{category}",
      "button_text": "⬆️ Загрузить",
      "dynamic": true
    },
    {
      "from": "view_category",
      "to": "menu_storage",
      "callback_data": "menu_storage",
      "button_text": "◀️ Назад"
    },
    {
      "from": "select_file",
      "to": "delete_file",
      "callback_data": "delete||{category}||{filename}",
      "button_text": "🗑️ Удалить",
      "dynamic": true
    },
    {
      "from": "select_file",
      "to": "view_category",
      "callback_data": "view||{category}",
      "button_text": "◀️ Назад",
      "dynamic": true
    },
    {
      "from": "show_my_reports",
      "to": "report_view",
      "callback_data": "report_view",
      "button_text": "👁️ Просмотр"
    },
    {
      "from": "show_my_reports",
      "to": "report_rename",
      "callback_data": "report_rename",
      "button_text": "✏️ Переименовать"
    },
    {
      "from": "show_my_reports",
      "to": "report_delete",
      "callback_data": "report_delete",
      "button_text": "🗑️ Удалить"
    },
    {
      "from": "show_my_reports",
      "to": "menu_chats",
      "callback_data": "menu_chats",
      "button_text": "◀️ Назад"
    },
    {
      "from": "report_delete",
      "to": "report_delete_confirm",
      "callback_data": "report_delete_confirm||{index}",
      "button_text": "✅ Подтвердить удаление",
      "dynamic": true
    },
    {
      "from": "report_delete",
      "to": "show_my_reports",
      "callback_data": "show_my_reports",
      "button_text": "❌ Отмена"
    },
    {
      "from": "show_all_reports",
      "to": "send_report",
      "callback_data": "send_report||{file_path}",
      "button_text": "📤 Отправить отчет",
      "dynamic": true
    },
    {
      "from": "show_all_reports",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "mode_interview",
      "to": "report_int_methodology",
      "callback_data": "report_int_methodology",
      "button_text": "📋 Методология"
    },
    {
      "from": "mode_interview",
      "to": "report_int_links",
      "callback_data": "report_int_links",
      "button_text": "🔗 Ссылки"
    },
    {
      "from": "mode_interview",
      "to": "report_int_general",
      "callback_data": "report_int_general",
      "button_text": "📊 Общий анализ"
    },
    {
      "from": "mode_interview",
      "to": "report_int_specific",
      "callback_data": "report_int_specific",
      "button_text": "🔍 Специфический анализ"
    },
    {
      "from": "mode_design",
      "to": "report_design_audit_methodology",
      "callback_data": "report_design_audit_methodology",
      "button_text": "📋 Методология аудита"
    },
    {
      "from": "mode_design",
      "to": "report_design_compliance",
      "callback_data": "report_design_compliance",
      "button_text": "✅ Соответствие"
    },
    {
      "from": "mode_design",
      "to": "report_design_structured",
      "callback_data": "report_design_structured",
      "button_text": "📐 Структурированный"
    },
    {
      "from": "menu_access",
      "to": "access_users_menu",
      "callback_data": "access_users_menu",
      "button_text": "👥 Пользователи"
    },
    {
      "from": "menu_access",
      "to": "access_invitations_menu",
      "callback_data": "access_invitations_menu",
      "button_text": "✉️ Приглашения"
    },
    {
      "from": "menu_access",
      "to": "access_security_menu",
      "callback_data": "access_security_menu",
      "button_text": "🔒 Безопасность"
    },
    {
      "from": "menu_access",
      "to": "menu_main",
      "callback_data": "menu_main",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_users_menu",
      "to": "access_list_users",
      "callback_data": "access_list_users",
      "button_text": "📋 Список пользователей"
    },
    {
      "from": "access_users_menu",
      "to": "access_search_user",
      "callback_data": "access_search_user",
      "button_text": "🔍 Поиск"
    },
    {
      "from": "access_users_menu",
      "to": "access_filter_roles",
      "callback_data": "access_filter_roles",
      "button_text": "🎯 Фильтр по ролям"
    },
    {
      "from": "access_users_menu",
      "to": "menu_access",
      "callback_data": "menu_access",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_list_users",
      "to": "access_list_users_page",
      "callback_data": "access_list_users||page||{page}",
      "button_text": "➡️ Следующая страница",
      "dynamic": true
    },
    {
      "from": "access_list_users",
      "to": "access_user_details",
      "callback_data": "access_user_details||{user_id}",
      "button_text": "[Пользователь]",
      "dynamic": true
    },
    {
      "from": "access_list_users",
      "to": "access_users_menu",
      "callback_data": "access_users_menu",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_filter_roles",
      "to": "access_filter",
      "callback_data": "access_filter||admin",
      "button_text": "👑 Админы",
      "dynamic": true
    },
    {
      "from": "access_filter_roles",
      "to": "access_filter",
      "callback_data": "access_filter||user",
      "button_text": "👤 Пользователи",
      "dynamic": true
    },
    {
      "from": "access_filter_roles",
      "to": "access_filter_reset",
      "callback_data": "access_filter_reset",
      "button_text": "🔄 Сбросить фильтр"
    },
    {
      "from": "access_filter_roles",
      "to": "access_users_menu",
      "callback_data": "access_users_menu",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_user_details",
      "to": "access_edit_user",
      "callback_data": "access_edit_user||{user_id}",
      "button_text": "✏️ Редактировать",
      "dynamic": true
    },
    {
      "from": "access_user_details",
      "to": "access_change_role",
      "callback_data": "access_change_role||{user_id}",
      "button_text": "🔄 Сменить роль",
      "dynamic": true
    },
    {
      "from": "access_user_details",
      "to": "access_reset_password",
      "callback_data": "access_reset_password||{user_id}",
      "button_text": "🔑 Сбросить пароль",
      "dynamic": true
    },
    {
      "from": "access_user_details",
      "to": "access_toggle_block",
      "callback_data": "access_toggle_block||{user_id}",
      "button_text": "🚫 Блокировать/Разблокировать",
      "dynamic": true
    },
    {
      "from": "access_user_details",
      "to": "access_delete_user",
      "callback_data": "access_delete_user||{user_id}",
      "button_text": "🗑️ Удалить",
      "dynamic": true
    },
    {
      "from": "access_user_details",
      "to": "access_list_users",
      "callback_data": "access_list_users",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_change_role",
      "to": "access_set_role",
      "callback_data": "access_set_role||{user_id}||admin",
      "button_text": "👑 Админ",
      "dynamic": true
    },
    {
      "from": "access_change_role",
      "to": "access_set_role",
      "callback_data": "access_set_role||{user_id}||user",
      "button_text": "👤 Пользователь",
      "dynamic": true
    },
    {
      "from": "access_change_role",
      "to": "access_user_details",
      "callback_data": "access_user_details||{user_id}",
      "button_text": "◀️ Назад",
      "dynamic": true
    },
    {
      "from": "access_reset_password",
      "to": "access_confirm_reset",
      "callback_data": "access_confirm_reset||{user_id}",
      "button_text": "✅ Подтвердить",
      "dynamic": true
    },
    {
      "from": "access_reset_password",
      "to": "access_user_details",
      "callback_data": "access_user_details||{user_id}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "access_toggle_block",
      "to": "access_confirm_block",
      "callback_data": "access_confirm_block||{user_id}",
      "button_text": "✅ Подтвердить",
      "dynamic": true
    },
    {
      "from": "access_toggle_block",
      "to": "access_user_details",
      "callback_data": "access_user_details||{user_id}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "access_delete_user",
      "to": "access_confirm_delete",
      "callback_data": "access_confirm_delete||{user_id}",
      "button_text": "✅ Подтвердить удаление",
      "dynamic": true
    },
    {
      "from": "access_delete_user",
      "to": "access_user_details",
      "callback_data": "access_user_details||{user_id}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "access_invitations_menu",
      "to": "access_list_invites",
      "callback_data": "access_list_invites",
      "button_text": "📋 Список приглашений"
    },
    {
      "from": "access_invitations_menu",
      "to": "access_create_invite",
      "callback_data": "access_create_invite||user",
      "button_text": "➕ Создать приглашение",
      "dynamic": true
    },
    {
      "from": "access_invitations_menu",
      "to": "menu_access",
      "callback_data": "menu_access",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_list_invites",
      "to": "access_list_invites_page",
      "callback_data": "access_list_invites||page||{page}",
      "button_text": "➡️ Следующая страница",
      "dynamic": true
    },
    {
      "from": "access_list_invites",
      "to": "access_invite_details",
      "callback_data": "access_invite_details||{invite_code}",
      "button_text": "[Приглашение]",
      "dynamic": true
    },
    {
      "from": "access_list_invites",
      "to": "access_invitations_menu",
      "callback_data": "access_invitations_menu",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_create_invite",
      "to": "access_confirm_invite",
      "callback_data": "access_confirm_invite||{role}",
      "button_text": "✅ Подтвердить",
      "dynamic": true
    },
    {
      "from": "access_create_invite",
      "to": "access_invitations_menu",
      "callback_data": "access_invitations_menu",
      "button_text": "❌ Отмена"
    },
    {
      "from": "access_invite_details",
      "to": "access_revoke_invite",
      "callback_data": "access_revoke_invite||{invite_code}",
      "button_text": "❌ Отозвать",
      "dynamic": true
    },
    {
      "from": "access_invite_details",
      "to": "access_list_invites",
      "callback_data": "access_list_invites",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_revoke_invite",
      "to": "access_confirm_revoke",
      "callback_data": "access_confirm_revoke||{invite_code}",
      "button_text": "✅ Подтвердить отзыв",
      "dynamic": true
    },
    {
      "from": "access_revoke_invite",
      "to": "access_invite_details",
      "callback_data": "access_invite_details||{invite_code}",
      "button_text": "❌ Отмена",
      "dynamic": true
    },
    {
      "from": "access_security_menu",
      "to": "access_audit_log",
      "callback_data": "access_audit_log",
      "button_text": "📜 Журнал аудита"
    },
    {
      "from": "access_security_menu",
      "to": "menu_access",
      "callback_data": "menu_access",
      "button_text": "◀️ Назад"
    },
    {
      "from": "access_audit_log",
      "to": "access_audit_log_page",
      "callback_data": "access_audit_log||page||{page}",
      "button_text": "➡️ Следующая страница",
      "dynamic": true
    },
    {
      "from": "access_audit_log",
      "to": "access_security_menu",
      "callback_data": "access_security_menu",
      "button_text": "◀️ Назад"
    }
  ],
  "metadata": {
    "static_nodes": 55,
    "dynamic_nodes": 37,
    "safe_nodes": 10,
    "forbidden_nodes": 28,
    "max_depth": 6,
    "categories": {
      "menu": 9,
      "action": 44,
      "view": 15,
      "confirm": 10
    }
  }
}
